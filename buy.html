<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Buy Pixels - Million Pixel</title>
<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #111;
  color: #fff;
  overflow-y: auto;
}

/* Navbar */
nav {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  background: #222;
  display: flex;
  align-items: center;
  padding: 10px 20px;
  z-index: 10;
}
nav img { height: 30px; margin-right: 10px; }
nav h1 { color: #0f0; font-size: 20px; margin-right: auto; }
nav a { color: #fff; text-decoration: none; margin-left: 15px; font-size: 16px; }
nav a:hover { color: #0f0; }

/* Main container */
#main {
  margin-top: 60px;
  padding: 20px;
  max-width: 600px;
  margin-left: auto;
  margin-right: auto;
  background: #1a1a1a;
  border-radius: 10px;
}

/* Form styles */
form { display: flex; flex-direction: column; }
label { margin-top: 15px; margin-bottom: 5px; font-weight: bold; }
input[type="number"], input[type="url"], input[type="file"] {
  padding: 8px;
  border-radius: 5px;
  border: none;
  font-size: 16px;
}
button {
  margin-top: 20px;
  padding: 12px;
  font-size: 18px;
  background: #0f0;
  border: none;
  color: #111;
  font-weight: bold;
  cursor: pointer;
  border-radius: 5px;
}
button:hover { background: #0c0; }

/* Preview list */
#previewList {
  margin-top: 20px;
}
.pixelPreview {
  display: flex;
  align-items: center;
  margin-bottom: 10px;
  border: 1px solid #222;
  padding: 5px;
  border-radius: 5px;
}
.pixelPreview img {
  width: 50px;
  height: 50px;
  margin-right: 10px;
  object-fit: cover;
}
.pixelPreview span {
  flex: 1;
}
.pixelPreview button {
  background: #f00;
  color: #fff;
  border: none;
  padding: 5px 10px;
  cursor: pointer;
  border-radius: 3px;
}
.pixelPreview button:hover { background: #c00; }
</style>
</head>
<body>

<nav>
  <img src="https://via.placeholder.com/30" alt="Logo">
  <h1>Million Pixel</h1>
  <a href="index.html">Home</a>
  <a href="about.html">About Us</a>
</nav>

<div id="main">
  <h2>Buy Your Pixels</h2>
  <form id="buyForm">
    <label>Row (0–99)</label>
    <input type="number" id="row" min="0" max="99" required>

    <label>Column (0–99)</label>
    <input type="number" id="col" min="0" max="99" required>

    <label>Hyperlink</label>
    <input type="url" id="link" placeholder="https://example.com" required>

    <label>Upload Pixel Image</label>
    <input type="file" id="image" accept="image/*" required>

    <button type="button" id="addPixel">Add Pixel</button>
  </form>

  <div id="previewList"></div>
  <h3>Total Cost: <span id="totalCost">0</span> JOD</h3>
  <button id="checkout">Proceed to Payment</button>
</div>

<script>
const addBtn = document.getElementById('addPixel');
const previewList = document.getElementById('previewList');
const totalCostEl = document.getElementById('totalCost');
const checkoutBtn = document.getElementById('checkout');
let pixels = [];

addBtn.addEventListener('click', () => {
  const row = document.getElementById('row').value;
  const col = document.getElementById('col').value;
  const link = document.getElementById('link').value;
  const imageInput = document.getElementById('image');
  const file = imageInput.files[0];

  if(!row || !col || !link || !file){
    alert("Please fill all fields and upload an image.");
    return;
  }

  const reader = new FileReader();
  reader.onload = function(event){
    const pixelData = {
      row: row,
      col: col,
      link: link,
      image: event.target.result
    };
    pixels.push(pixelData);
    updatePreview();
  }
  reader.readAsDataURL(file);

  // Reset inputs
  document.getElementById('row').value = '';
  document.getElementById('col').value = '';
  document.getElementById('link').value = '';
  imageInput.value = '';
});

function updatePreview(){
  previewList.innerHTML = '';
  pixels.forEach((p, index)=>{
    const div = document.createElement('div');
    div.className = 'pixelPreview';
    div.innerHTML = `<img src="${p.image}" alt="Pixel"><span>Row: ${p.row}, Col: ${p.col}, Link: ${p.link}</span>
                     <button onclick="removePixel(${index})">Remove</button>`;
    previewList.appendChild(div);
  });
  totalCostEl.textContent = pixels.length; // 1 JOD per pixel
}

function removePixel(index){
  pixels.splice(index,1);
  updatePreview();
}

// Checkout button
checkoutBtn.addEventListener('click', ()=>{
  if(pixels.length === 0){
    alert("No pixels selected.");
    return;
  }
  // Here you can integrate payment gateway
  alert(`Proceeding to payment for ${pixels.length} pixel(s), total cost: ${pixels.length} JOD`);
  console.log("Pixels to purchase:", pixels);
});
</script>
</body>
</html>
